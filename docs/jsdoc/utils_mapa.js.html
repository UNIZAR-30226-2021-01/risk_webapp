<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/mapa.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/mapa.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { svgPathProperties } from 'svg-path-properties'

/**
 * Contiene unas cuantas funciones útiles para el manejo de un mapa del
 * risk.
 * @module mapa
 */

/**
 * Dada una localización delimitada por sus puntos (svg), devuelve
 * el centro de estos puntos.
 * @param {svg_path} location Ubicación svg
 * @returns {*} Centro {x,y}
 */
export const obtenerCentro = (location) => {
	let pts = new svgPathProperties(location.path)
	let coords = {
		x: 0,
		y: 0,
	}
	for (let i = 0; i &lt; pts.getTotalLength(); i++) {
		coords.x = coords.x + pts.getPointAtLength(i).x
		coords.y = coords.y + pts.getPointAtLength(i).y
	}
	coords.x = coords.x / pts.getTotalLength()
	coords.y = coords.y / pts.getTotalLength()
	return coords
}

/**
 * Devuelve el id de la ubicación del evento
 * @param {evento} event
 * @returns Id de la ubicación
 */
export const obtenerIdUbicacion = (event) => {
	return event.target.attributes.id.value
}

/**
 * Devuelve el nombre de la ubicación del evento
 * @param {evento} event
 * @returns Nombre de la ubicación
 */
export const obtenerNombreUbicacion = (event) => {
	return event.target.attributes.name.value
}

/**
 * Devuelve la lista de territorios a los que se puede mover.
 * Se debe comprobar previamente que origen y destino pertenecen al jugador
 * al que le toca en ese turno.
 * @param {int} origen id del país origen
 * @param {array} territorios array "territorios" del estado
 * @param {array} locations array "locations" del Mapa Unido
 */
export const destinosMovimientos = (origen, territorios, locations) => {
	let frontera = [origen]
	let explorados = []
	while (frontera.length !== 0) {
		let nodo = locations[frontera.pop()]
		explorados.push(parseInt(nodo.id))
		nodo.conexiones.forEach((adyacente) => {
			if (!explorados.includes(adyacente) &amp;&amp; !frontera.includes(adyacente)) {
				// Si el territorio actual pertenece al mismo jugador que el nodo padre
				if (
					territorios[adyacente].jugador ===
					territorios[parseInt(nodo.id)].jugador
				) {
					frontera.push(adyacente)
				}
			}
		})
	}
	return explorados
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-aspectos.html">aspectos</a></li><li><a href="module-AuthApi.html">AuthApi</a></li><li><a href="module-AuthServer.html">AuthServer</a></li><li><a href="module-constants.html">constants</a></li><li><a href="module-dados.html">dados</a></li><li><a href="module-fotoPerfil.html">fotoPerfil</a></li><li><a href="module-iconos.html">iconos</a></li><li><a href="module-mapa.html">mapa</a></li><li><a href="module-partida.html">partida</a></li><li><a href="module-quotes.html">quotes</a></li><li><a href="module-restAPI.html">restAPI</a></li><li><a href="module-SalaApi.html">SalaApi</a></li><li><a href="module-tiempo.html">tiempo</a></li><li><a href="module-tropas.html">tropas</a></li><li><a href="module-tropas_color.html">tropas_color</a></li><li><a href="module-usuarioVO.html">usuarioVO</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Sun May 16 2021 14:21:52 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
